---
applications:
  - name: cardid
    buildpacks:
      - java_buildpack
    path: target/pay-cardid-0.1-SNAPSHOT-allinone.jar
    health-check-type: http
    health-check-http-endpoint: '/healthcheck'
    health-check-invocation-timeout: 5
    memory: ((memory))
    disk_quota: ((disk_quota))
    env:
      ADMIN_PORT: '9801'
      ENVIRONMENT: ((space))
      JAVA_OPTS: -Xms512m -Xmx1G
      JBP_CONFIG_JAVA_MAIN: '{ arguments: "server /home/vcap/app/config/config.yaml" }'
      JBP_CONFIG_OPEN_JDK_JRE: '{ jre: { version: 11.+ } }'

      AWS_XRAY_CONTEXT_MISSING: LOG_ERROR
      TEST_CARD_DATA_LOCATION: ((test_card_data_location))
      WORLDPAY_DATA_LOCATION: ((worldpay_data_location))
      DISCOVER_DATA_LOCATION: ((discover_data_location))

      # Provide via Sentry service
      SENTRY_DSN: noop://localhost

      RUN_APP: 'true'
